 <div class="header-top">
  <div class="brand">
    <div class="brand-title">MAKWANA INFOTECH</div>
  </div> 
  


  <div class="user-area">
    <!-- Login link opens the dropdown instead of navigating -->
    <a class="login-btn" href="#" (click)="toggleLoginDropdown($event)" #loginAnchor>
      <span *ngIf="!isLoggedIn">Login</span>
      <span *ngIf="isLoggedIn">{{ loggedRole }}: {{ loggedName || 'User' }}</span>
    </a>

    <a *ngIf="isLoggedIn" class="logout" href="#" (click)="logout(); $event.preventDefault()">Logout</a>
  </div>
</div>


<div class="login-dropdown-wrapper" *ngIf="showLoginDropdown" #dropdown>
  <div class="login-dropdown-card">

    <!-- Role selection -->
    <div class="role-tabs">
      <button class="role-tab" [class.active]="selectedRole === 'Admin'" (click)="selectRole('Admin')">Admin</button>
      <button class="role-tab" [class.active]="selectedRole === 'User'" (click)="selectRole('User')">User</button>
      <button class="role-tab" [class.active]="selectedRole === 'Subuser'"
        (click)="selectRole('Subuser')">Subuser</button>
    </div>

    <!-- Login form for selected role -->
    <form [formGroup]="loginForm" (ngSubmit)="submitLogin()" class="login-form">
      <div class="form-row">
        <label>Email ID</label>
        <input formControlName="webId" autocomplete="username" />
        <div class="error" *ngIf="loginForm.controls['webId'].touched && loginForm.controls['webId'].invalid">
          Enter Email ID
        </div>
      </div>

      <div class="form-row">
        <label>Password</label>
        <input type="password" formControlName="password" autocomplete="current-password" />
        <div class="error" *ngIf="loginForm.controls['password'].touched && loginForm.controls['password'].invalid">
          Enter Password
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn" [disabled]="loginForm.invalid">Login as {{ selectedRole }}</button>
      </div>
    </form>

  </div>
</div>